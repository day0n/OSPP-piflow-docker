(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-419d542c"],{"25f0":function(t,e,i){"use strict";var s=i("6eeb"),n=i("825a"),a=i("d039"),o=i("ad6d"),r="toString",u=RegExp.prototype,c=u[r],p=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=r;(p||d)&&s(RegExp.prototype,r,(function(){var t=n(this),e=String(t.source),i=t.flags,s=String(void 0===i&&t instanceof RegExp&&!("flags"in u)?o.call(t):i);return"/"+e+"/"+s}),{unsafe:!0})},"44e7":function(t,e,i){var s=i("861d"),n=i("c6b6"),a=i("b622"),o=a("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==n(t))}},4896:function(t,e,i){"use strict";var s=i("7f87"),n=i.n(s);n.a},"4d63":function(t,e,i){var s=i("83ab"),n=i("da84"),a=i("94ca"),o=i("7156"),r=i("9bf2").f,u=i("241c").f,c=i("44e7"),p=i("ad6d"),d=i("9f7f"),l=i("6eeb"),v=i("d039"),f=i("69f3").set,g=i("2626"),m=i("b622"),h=m("match"),w=n.RegExp,b=w.prototype,y=/a/g,C=/a/g,$=new w(y)!==y,k=d.UNSUPPORTED_Y,x=s&&a("RegExp",!$||k||v((function(){return C[h]=!1,w(y)!=y||w(C)==C||"/a/i"!=w(y,"i")})));if(x){var _=function(t,e){var i,s=this instanceof _,n=c(t),a=void 0===e;if(!s&&n&&t.constructor===_&&a)return t;$?n&&!a&&(t=t.source):t instanceof _&&(a&&(e=p.call(t)),t=t.source),k&&(i=!!e&&e.indexOf("y")>-1,i&&(e=e.replace(/y/g,"")));var r=o($?new w(t,e):w(t,e),s?this:b,_);return k&&i&&f(r,{sticky:i}),r},P=function(t){t in _||r(_,t,{configurable:!0,get:function(){return w[t]},set:function(e){w[t]=e}})},M=u(w),E=0;while(M.length>E)P(M[E++]);b.constructor=_,_.prototype=b,l(n,"RegExp",_)}g("RegExp")},7156:function(t,e,i){var s=i("861d"),n=i("d2bb");t.exports=function(t,e,i){var a,o;return n&&"function"==typeof(a=e.constructor)&&a!==i&&s(o=a.prototype)&&o!==i.prototype&&n(t,o),t}},"7f87":function(t,e,i){},b0c0:function(t,e,i){var s=i("83ab"),n=i("9bf2").f,a=Function.prototype,o=a.toString,r=/^\s*function ([^ (]*)/,u="name";s&&!(u in a)&&n(a,u,{configurable:!0,get:function(){try{return o.call(this).match(r)[1]}catch(t){return""}}})},c80f:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[t._m(0),i("i",{staticClass:"map"}),i("div",{staticClass:"content",class:t.isLogin?"ivu-logn-1":"ivu-logn"},[i("div",{staticClass:"login-con"},[i("div",{staticClass:"ivu-card"},[i("div",{staticClass:"ivu-card-head"},[i("i",{staticClass:"ivu-icon ivu-icon-log-in"}),t.isLogin?i("span",[t._v("Welcome to login")]):i("span",[t._v("Welcome to register")])]),i("div",{staticClass:"ivu-card-body"},[i("div",{staticClass:"form-con"},[i("div",{staticClass:"ivu-form ivu-form-label-right"},[i("div",{staticClass:"ivu-form-item ivu-form-item-required"},[i("div",{staticClass:"ivu-form-item-content"},[i("div",{staticClass:"ivu-input-wrapper ivu-input-wrapper-default ivu-input-type ivu-input-group ivu-input-group-default ivu-input-group-with-prepend"},[t._m(1),i("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"ivu-input ivu-input-default",attrs:{autocomplete:"off",spellcheck:"false",type:"text",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])])]),i("div",{staticClass:"ivu-form-item ivu-form-item-required"},[i("div",{staticClass:"ivu-form-item-content"},[i("div",{staticClass:"ivu-input-wrapper ivu-input-wrapper-default ivu-input-type ivu-input-group ivu-input-group-default ivu-input-group-with-prepend"},[t._m(2),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"ivu-input ivu-input-default",attrs:{autocomplete:"off",spellcheck:"false",type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])])]),t.isLogin?t._e():i("div",{staticClass:"ivu-form-item-i ivu-form-item-required"},[i("div",{staticClass:"ivu-form-item-content"},[i("div",{staticClass:"ivu-input-wrapper ivu-input-wrapper-default ivu-input-type ivu-input-group ivu-input-group-default ivu-input-group-with-prepend"},[i("div",{staticClass:"ivu-input-group-prepend"},[i("span",[i("Icon",{attrs:{type:"ios-lock",size:"16"}})],1)]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.isPassword,expression:"isPassword"}],staticClass:"ivu-input ivu-input-default",attrs:{autocomplete:"off",spellcheck:"false",type:"password",placeholder:"Confirm password"},domProps:{value:t.isPassword},on:{blur:t.onBlur,input:function(e){e.target.composing||(t.isPassword=e.target.value)}}})])])]),t.isLogin?t._e():i("div",{staticClass:"ivu-form-item ivu-form-item-required"},[i("div",{staticClass:"ivu-form-item-content"},[i("div",{staticClass:"ivu-input-wrapper ivu-input-wrapper-default ivu-input-type ivu-input-group ivu-input-group-default ivu-input-group-with-prepend"},[i("div",{staticClass:"ivu-input-group-prepend"},[i("Icon",{attrs:{type:"ios-contact",size:"16"}})],1),i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"ivu-input ivu-input-default",attrs:{autocomplete:"off",spellcheck:"false",type:"text",placeholder:"Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])])]),t.isLogin?i("div",{staticClass:"login-tip"},[i("p",[t._v(" No account number？"),i("span",{on:{click:function(e){return e.stopPropagation(),t.onChange(e)}}},[t._v("register")])])]):i("div",{staticClass:"login-tip"},[i("p",[t._v(" Have account number？ "),i("span",{on:{click:function(e){return e.stopPropagation(),t.onChange(e)}}},[t._v("Sign in")])])]),t.isLogin?i("div",[i("div",{staticClass:"ivu-form-item-content"},[i("button",{staticClass:"ivu-btn ivu-btn-primary ivu-btn-long",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.handleLogin(e)}}},[t._v(" SIGN IN")])])]):i("div",[i("div",{staticClass:"ivu-form-item-content"},[i("button",{staticClass:"ivu-btn ivu-btn-primary ivu-btn-long",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.handleRegister(e)}}},[t._v(" REGISTER")])])])])])])])])]),i("div",{staticClass:"large-bgc"}),t._m(3)])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("div",{staticClass:"logo"}),i("div",{staticClass:"title"},[i("h1",[t._v("PiFlow Big Data Pipeline System")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ivu-input-group-prepend"},[i("i",{staticClass:"ivu-icon ivu-icon-ios-person",staticStyle:{"font-size":"16px"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ivu-input-group-prepend"},[i("span",[i("i",{staticClass:"ivu-icon ivu-icon-md-lock",staticStyle:{"font-size":"14px"}})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"15%",width:"100%",position:"fixed",bottom:"0px","background-color":"#ffffff"}},[i("br"),i("p",{staticStyle:{"text-align":"center","font-size":"12px"}},[t._v("Technical support ： Computer Network Information Center,Chinese Academy of Scienes")]),i("p",{staticStyle:{"text-align":"center","font-size":"12px"}},[t._v("Contact us ：010-58815678")])])}],a=(i("b0c0"),i("4d63"),i("ac1f"),i("25f0"),i("a78e")),o=i.n(a),r={name:"login",data:function(){return{username:"",password:"",name:"",mobile:"",org:"",isPassword:"",post:"",status:"",isLogin:!0,isExist:!1}},watch:{isPassword:function(t){this.$Message.destroy(),this.password!==t||this.$Message.destroy()}},mounted:function(){this.$Message.destroy(),window.addEventListener("keydown",this.keyDown)},methods:{onChange:function(){this.isLogin=!this.isLogin,this.handleReset()},handleReset:function(){this.username="",this.password="",this.name="",this.mobile="",this.org="",this.isPassword="",this.post=""},handleLogin:function(){var t=this;if(this.$Message.destroy(),this.username)if(this.password){var e={username:this.username,password:this.password};this.$axios.post("/jwtLogin",this.$qs.stringify(e)).then((function(e){200===e.data.code?(t.$store.commit("setToken",e.data.token),o.a.set("token",e.data.token),t.$store.commit("setUser",e.data.jwtUser),o.a.set("state","jwtok"),o.a.set("usre",t.username),o.a.set("setUser",JSON.stringify(e.data.jwtUser.roles)),t.getIsInBootPage()):t.$Message["error"]({background:!0,content:"登录失败！"})})).catch((function(t){}))}else this.$Message["error"]({background:!0,content:"请填写密码！"});else this.$Message["error"]({background:!0,content:"请填写账号！"})},handleRegister:function(){var t=this;this.$Message.destroy(),this.username?this.isExist?this.$Message["error"]({background:!0,content:"账号已存在，请重新输入！"}):this.password?this.password!==this.isPassword?this.$Message["error"]({background:!0,content:"密码与确认密码不一致，请重新输入！"}):this.name?this.rEnumber(this.name)?this.$axios.post("/checkUserName",this.$qs.stringify({username:this.username})).then((function(e){200===e.data.code?t.registered():500===e.data.code?t.$Modal.error({title:t.$t("tip.title"),content:e.data.errorMsg}):t.$Message.error({content:e.data.errorMsg})})).catch((function(t){})):this.$Message["error"]({background:!0,content:"用户名不得为数字，请正确填写用户名！"}):this.$Message["error"]({background:!0,content:"请填写用户名！"}):this.$Message["error"]({background:!0,content:"请填写密码！"}):this.$Message["error"]({background:!0,content:"请填写账号！"})},registered:function(){var t=this;this.$Message.loading({content:"注册中，请稍后...",duration:0});var e={username:this.username,pw:this.password,name:this.name,status:0};this.$axios.post("/register",this.$qs.stringify(e)).then((function(e){200===e.data.code?(t.$Message.success("registration success！"),t.onChange()):500===e.data.code?"save failed"===e.data.errorMsg&&t.$Modal.error({title:t.$t("tip.title"),content:t.$t("tip.existed"),onOk:function(){t.handleReset()}}):t.$Message.error({content:e.data.message})})).catch((function(t){}))},rEnumber:function(t){var e=new RegExp(/^\d+$/);return!e.test(t)},getIsInBootPage:function(){var t=this;this.$axios.get("/bootPage/isInBootPage").then((function(e){var i=e.data;if(200===i.code&&!0===i.isIn)t.$router.push({name:"bootPage",path:"/bootPage"});else if(200===i.code&&!1===i.isIn)if(t.$route.query.redirect){var s=t.$route.query.redirect;t.$router.push(s)}else t.$router.push({name:"sections",path:"/"});else t.$Modal.success({title:t.$t("tip.title"),content:t.$t("tip.request_fail_content")})})).catch((function(t){}))},onBlur:function(){this.$Message.destroy(),this.password!==this.isPassword?this.$Message.error({content:"密码与确认密码不一致，请重新输入！"}):this.$Message.destroy()},keyDown:function(t){13!==t.keyCode&&100!==t.keyCode||(this.isLogin?this.handleLogin():this.handleRegister())}},destroyed:function(){window.removeEventListener("keydown",this.keyDown,!1)}},u=r,c=(i("4896"),i("2877")),p=Object(c["a"])(u,s,n,!1,null,"9456baee",null);e["default"]=p.exports}}]);