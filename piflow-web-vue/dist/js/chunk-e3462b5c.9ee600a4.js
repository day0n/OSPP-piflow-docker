(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e3462b5c"],{1999:function(e,t,o){},"1ed7":function(e,t,o){"use strict";var i=o("8d77"),n=o.n(i);n.a},"65e0":function(e,t,o){"use strict";var i=o("1999"),n=o.n(i);n.a},"8d77":function(e,t,o){},d031:function(e,t,o){(function(e){ace.define("ace/theme/clouds",["require","exports","module","ace/lib/dom"],(function(e,t,o){t.isDark=!1,t.cssClass="ace-clouds",t.cssText='.ace-clouds .ace_gutter {background: #ebebeb;color: #333}.ace-clouds .ace_print-margin {width: 1px;background: #e8e8e8}.ace-clouds {background-color: #FFFFFF;color: #000000}.ace-clouds .ace_cursor {color: #000000}.ace-clouds .ace_marker-layer .ace_selection {background: #BDD5FC}.ace-clouds.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #FFFFFF;}.ace-clouds .ace_marker-layer .ace_step {background: rgb(255, 255, 0)}.ace-clouds .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #BFBFBF}.ace-clouds .ace_marker-layer .ace_active-line {background: #FFFBD1}.ace-clouds .ace_gutter-active-line {background-color : #dcdcdc}.ace-clouds .ace_marker-layer .ace_selected-word {border: 1px solid #BDD5FC}.ace-clouds .ace_invisible {color: #BFBFBF}.ace-clouds .ace_keyword,.ace-clouds .ace_meta,.ace-clouds .ace_support.ace_constant.ace_property-value {color: #AF956F}.ace-clouds .ace_keyword.ace_operator {color: #484848}.ace-clouds .ace_keyword.ace_other.ace_unit {color: #96DC5F}.ace-clouds .ace_constant.ace_language {color: #39946A}.ace-clouds .ace_constant.ace_numeric {color: #46A609}.ace-clouds .ace_constant.ace_character.ace_entity {color: #BF78CC}.ace-clouds .ace_invalid {background-color: #FF002A}.ace-clouds .ace_fold {background-color: #AF956F;border-color: #000000}.ace-clouds .ace_storage,.ace-clouds .ace_support.ace_class,.ace-clouds .ace_support.ace_function,.ace-clouds .ace_support.ace_other,.ace-clouds .ace_support.ace_type {color: #C52727}.ace-clouds .ace_string {color: #5D90CD}.ace-clouds .ace_comment {color: #BCC8BA}.ace-clouds .ace_entity.ace_name.ace_tag,.ace-clouds .ace_entity.ace_other.ace_attribute-name {color: #606060}.ace-clouds .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y}';var i=e("../lib/dom");i.importCssString(t.cssText,t.cssClass)})),function(){ace.require(["ace/theme/clouds"],(function(t){e&&(e.exports=t)}))}()}).call(this,o("62e4")(e))},ff0b:function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("div",{staticClass:"NotebookPanel-toolbar"},[o("ButtonGroup",[o("Button",{attrs:{icon:"md-add"},on:{click:e.handleAdd}}),o("Button",{attrs:{icon:"md-remove"},on:{click:function(t){return e.handleRemove("m",1===e.EditorList.length)}}}),o("Button",{attrs:{icon:"md-play"},on:{click:e.runInfo}})],1)],1),o("ul",{staticClass:"relationship"},e._l(e.EditorList,(function(t,i){return o("li",{key:"ve"+i},[o("div",{class:e.highlighted.index===i+1?"prefix-identification":""}),o("div",{staticStyle:{margin:"10px 0"}},[o("div",{staticClass:"InputArea-prompt",style:e.highlighted.isFocus&&e.highlighted.index===i+1?"color: #20784b":""},[o("span",{staticStyle:{"letter-spacing":"2px"}},[e._v(" ["+e._s(t.codeSnippetSort)+"]: ")])]),o("code-editor",{ref:"_firstRefs",refInFor:!0,attrs:{editorInfo:t,readonly:e.readonly,theme:"clouds",isNew:!!t.isNew&&t.isNew},on:{func:e.changeVal},model:{value:t.codeContent,callback:function(o){e.$set(t,"codeContent",o)},expression:"item.codeContent"}})],1),t.newData&&"ok"===t.newData.output.status?o("pre",{domProps:{innerHTML:e._s(t.newData.output.data["text/plain"])}}):e._e(),t.newData&&"error"===t.newData.output.status?o("div",{staticClass:"preError"},[o("pre",[o("p",[e._v("---------------------------------------------------------------------------")]),e._v(e._s(t.newData.output["evalue"]))])]):e._e()])})),0)])},n=[],a=(o("4160"),o("159b"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:e.generateId,class:e.isFocus?"w-100 code-editor ace_editor ace-clouds Focus":"w-100 code-editor ace_editor ace-clouds blur"})}),c=[],s=(o("7db0"),o("a9e3"),o("d3b7"),o("ac1f"),o("25f0"),o("5319"),o("6d4f")),r=o.n(s),d=(o("d031"),o("f14cc"),o("bf26"),o("9c84"),o("b82d"),o("44c0"),o("b183"),o("4eb3"),o("45db"),o("803d"),o("03c0"),o("5445"),o("b030")),u=o.n(d),l=o("39c3"),h=o.n(l),p=o("49cb"),f=o.n(p),g=o("8b06"),_=o.n(g),m=o("96e8"),S=o.n(m),b=o("6615"),v=o.n(b),k=o("44d4"),y=o.n(k),w=o("7466"),F=o.n(w),I=o("de84"),x=o.n(I);r.a.config.setModuleUrl("ace/mode/javascript_worker",u.a),r.a.config.setModuleUrl("ace/mode/text_worker",h.a),r.a.config.setModuleUrl("ace/mode/scala_worker",f.a),r.a.config.setModuleUrl("ace/mode/sh_worker",_.a),r.a.config.setModuleUrl("ace/mode/python_worker",S.a),r.a.config.setModuleUrl("ace/mode/java_worker",v.a),r.a.config.setModuleUrl("ace/mode/sql_worker",y.a),r.a.config.setModuleUrl("ace/mode/json_worker",F.a),r.a.config.setModuleUrl("ace/mode/css_worker",x.a),r.a.config.setModuleUrl("ace/snippets/javascript",o("3d0f")),r.a.config.setModuleUrl("ace/snippets/text",o("c428")),r.a.config.setModuleUrl("ace/snippets/java",o("8ad0")),r.a.config.setModuleUrl("ace/snippets/scala",o("eb31")),r.a.config.setModuleUrl("ace/snippets/sql",o("77d9")),r.a.config.setModuleUrl("ace/snippets/sh",o("fbb9")),r.a.config.setModuleUrl("ace/snippets/python",o("8273")),r.a.config.setModuleUrl("ace/snippets/css",o("7e23"));var L={name:"CodeFormat",model:{event:"change"},props:{value:String,language:{type:String,default:"scala"},theme:{type:String,default:"monokai"},readonly:{type:Boolean,default:!1},maxLines:Number,editorInfo:{type:Object,default:function(){return{}}},isNew:{type:Boolean,default:!1}},data:function(){return{editor:null,generateId:"id_"+Math.random().toString(36).substr(2,4),isFocus:!1}},mounted:function(){this.initEditor()},watch:{value:function(e){this.editor.getValue()!==e&&(this.editor.setValue(e),this.editor.clearSelection())},language:function(e){var t=this;e&&this.$nextTick((function(){t.destroy(),t.initEditor()}))}},methods:{initEditor:function(){var e=this;this.editor=r.a.edit(this.$refs[this.generateId],{mode:"ace/mode/".concat(this.language),theme:"ace/theme/".concat(this.theme),fontSize:14,tabSize:2,value:this.value,selectionStyle:"text",maxLines:30,minLines:3,readOnly:this.readonly,resize:!0}),this.editor.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0,wrap:!0}),this.editor.find("needle",{backwards:!1,wrap:!1,caseSensitive:!1,wholeWord:!1,regExp:!1},!0),this.editor.findNext(),this.editor.findPrevious(),this.editor.find("foo"),this.editor.replace("bar"),this.editor.replaceAll("bar"),this.editor.setHighlightGutterLine(!1),this.editor.setHighlightActiveLine(!1),this.editor.setShowPrintMargin(!1),this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(!1),this.editor.renderer.scrollToX(-6),this.isNew&&(this.isFocus=!0,this.editor.focus()),this.editor.on("change",(function(){e.editorInfo.codeContent=e.editor.getValue(),e.editorInfo.state="change";var t={data:e.editorInfo,isFocus:e.isFocus};e.$emit("func",t)})),this.editor.on("focus",(function(){e.editorInfo.state="";var t={data:e.editorInfo,isFocus:!0};e.$emit("func",t),e.isFocus=!0})),this.editor.on("blur",(function(){e.editorInfo.state="";var t={data:e.editorInfo,isFocus:!1};e.$emit("func",t),e.isFocus=!1})),this.editor.on("changeSelectionStyle",(function(){}))},gotoLine:function(e){this.editor.gotoLine(e)},resize:function(){this.editor.resize(!0)},destroy:function(){this.editor&&(this.editor.destroy(),this.editor=null)}},beforeDestroy:function(){this.destroy()}},C=L,A=(o("1ed7"),o("2877")),E=Object(A["a"])(C,a,c,!1,null,"ee958484",null),B=E.exports,$=null,M={name:"codeBlock",components:{CodeEditor:B},data:function(){return{EditorList:[],readonly:!1,noteBookId:"",codeSnippetList:[],blurId:"",runResultsList:[],sourcePath:this.$route.path,highlighted:{isFocus:null,index:1}}},created:function(){this.noteBookId=this.$route.query.id},mounted:function(){this.getCodeSnippetList()},destroyed:function(){this.$route.path!==this.sourcePath&&this.closeSession()},watch:{EditorList:{handler:function(e,t){var o=this;e.length<t.length?t.forEach((function(t,i){t.id&&t.id===o.blurId&&(i+1>=e.length?o.highlighted.index=e.length:i+1<e.length&&(o.highlighted.index=i+1))})):0!==t.length&&e.length>=t.length&&(this.highlighted.index=e.length)},deep:!0}},methods:{initEditorList:function(){if(0===this.codeSnippetList.length)this.EditorList.push({codeSnippetSort:1,codeContent:"",isNew:!0}),this.addEditor();else{var e=JSON.parse(JSON.stringify(this.codeSnippetList));0!==this.runResultsList.length?(this.runResultsList.forEach((function(t){e.forEach((function(e){t.id===e.id&&(e.newData=t.newData)}))})),this.EditorList=e):this.EditorList=e}},handleAdd:function(){this.EditorList.push({codeContent:"",isNew:!0}),this.addEditor()},addEditor:function(){var e=this,t=this.codeSnippetList.length-1,o={codeContent:"",codeSnippetSort:"",noteBookId:this.noteBookId};0===this.codeSnippetList.length?o.codeSnippetSort="1":o.codeSnippetSort=JSON.stringify(this.codeSnippetList[t].codeSnippetSort+1),this.$axios.post("/codeSnippet/addCodeSnippet",this.$qs.stringify(o)).then((function(t){200===t.data.code?(t.data.codeSnippetId,e.getCodeSnippetList()):e.$Message.error({content:t.data.errorMsg,duration:3})})).catch((function(e){}))},changeVal:function(e){this.highlighted.isFocus=e.isFocus,this.highlighted.index=e.data.codeSnippetSort,e.data.state&&"change"===e.data.state?this.updateEditor(e.data):this.blurId=e.data.id},updateEditor:function(e){var t={id:e.id,codeContent:e.codeContent,codeSnippetSort:e.codeSnippetSort,noteBookId:this.noteBookId};this.blurId=e.id,this.$axios.post("/codeSnippet/updateCodeSnippet",this.$qs.stringify(t)).then((function(e){e.data.code})).catch((function(e){}))},runInfo:function(){var e=this,t={codeSnippetId:this.blurId};this.$axios.post("codeSnippet/runStatements",this.$qs.stringify(t)).then((function(t){200===t.data.code?$=setInterval((function(){e.getRunResults()}),1e3):e.$Message.error({content:t.data.errorMsg,duration:3})})).catch((function(e){}))},getRunResults:function(){var e=this,t={codeSnippetId:this.blurId};this.$axios.post("codeSnippet/getStatementsResult",this.$qs.stringify(t)).then((function(t){var o=t.data;if(200===o.code){var i=JSON.parse(o.data);if(i.output&&"ok"===i.output.status||i.output&&"error"===i.output.status){clearInterval($),i.runID=e.blurId,e.EditorList.forEach((function(t){t.id===e.blurId&&(t.newData=i)}));var n=JSON.parse(JSON.stringify(e.EditorList));e.EditorList=n,e.runResultsList=e.EditorList}}else e.$Message.error({content:o.errorMsg,duration:3})})).catch((function(e){}))},handleRemove:function(e,t){t?this.$Modal.warning({title:this.$t("tip.title"),content:"此项不可删除，请重新操作！"}):this.deleteCodeSnippet()},getCodeSnippetList:function(){var e=this,t={noteBookId:this.noteBookId};this.$axios.post("/codeSnippet/codeSnippetList",this.$qs.stringify(t)).then((function(t){var o=t.data;200===o.code&&(e.codeSnippetList=o.codeSnippetList,e.initEditorList())})).catch((function(e){}))},deleteCodeSnippet:function(){var e=this,t={codeSnippetId:this.blurId};this.$axios.post("codeSnippet/deleteCodeSnippet",this.$qs.stringify(t)).then((function(t){200===t.data.code?e.getCodeSnippetList():e.$Message.error({content:t.data.errorMsg,duration:3})})).catch((function(e){}))},closeSession:function(){var e={noteBookId:this.noteBookId};this.$axios.post("/noteBoot/deleteNoteBookSession",this.$qs.stringify(e)).then((function(e){var t=e.data;t.code})).catch((function(e){}))}}},D=M,U=(o("65e0"),Object(A["a"])(D,i,n,!1,null,"36549886",null));t["default"]=U.exports}}]);