(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65156f37"],{"159b":function(t,e,o){var n=o("da84"),s=o("fdbc"),r=o("17c2"),i=o("9112");for(var a in s){var c=n[a],u=c&&c.prototype;if(u&&u.forEach!==r)try{i(u,"forEach",r)}catch(p){u.forEach=r}}},"17c2":function(t,e,o){"use strict";var n=o("b727").forEach,s=o("a640"),r=o("ae40"),i=s("forEach"),a=r("forEach");t.exports=i&&a?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"25f0":function(t,e,o){"use strict";var n=o("6eeb"),s=o("825a"),r=o("d039"),i=o("ad6d"),a="toString",c=RegExp.prototype,u=c[a],p=r((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),l=u.name!=a;(p||l)&&n(RegExp.prototype,a,(function(){var t=s(this),e=String(t.source),o=t.flags,n=String(void 0===o&&t instanceof RegExp&&!("flags"in c)?i.call(t):o);return"/"+e+"/"+n}),{unsafe:!0})},4081:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("div",{staticClass:"navbar"},[o("div",{staticClass:"left"},[o("span",[t._v(t._s(t.$t("sidebar.stopsComponent")))])])]),o("div",{staticClass:"input"},[o("vxe-toolbar",{scopedSlots:t._u([{key:"buttons",fn:function(){return[o("vxe-input",{staticStyle:{width:"300px"},attrs:{type:"search",placeholder:t.$t("modal.placeholder")},on:{keyup:t.searchEvent},model:{value:t.param,callback:function(e){t.param=e},expression:"param"}})]},proxy:!0}])})],1),o("div",{style:t.style},[o("vxe-table",{ref:"xTree",staticClass:"mytable-scrollbar",attrs:{resizable:"","highlight-hover-row":"","row-key":"",border:"",height:"auto",size:"medium","row-id":"id",loading:t.loading,"tree-config":{children:"stopsComponentVoList"},"checkbox-config":{labelField:"groupName",checkRowKeys:t.checkRowKeys,reserve:!0},data:t.tableList},on:{"checkbox-change":t.selectChangeEvent,"checkbox-all":t.selectAll}},[o("vxe-table-column",{attrs:{field:"groupName",title:t.$t("stopsComponent_columns.name"),type:"checkbox","tree-node":""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[o("span",[n.groupName?o("span",{domProps:{innerHTML:t._s(n.groupName)}}):o("span",{domProps:{innerHTML:t._s(n.name)}},[t._v(t._s(n.name))])])]}}])}),o("vxe-table-column",{attrs:{field:"bundel",title:"bundel",type:"html"}}),o("vxe-table-column",{attrs:{field:"owner",title:"owner",type:"html"}}),o("vxe-table-column",{attrs:{field:"description",title:t.$t("stopsComponent_columns.description"),type:"html"}})],1)],1)])},s=[],r=(o("4160"),o("c975"),o("45fc"),o("4d63"),o("ac1f"),o("25f0"),o("5319"),o("498a"),o("159b"),o("c695")),i=o.n(r),a={name:"stopsComponent",components:{},data:function(){return{page:1,limit:10,total:0,tableData:[],param:"",style:{height:"auto"},checkRowKeys:[],queryJson:{bundle:"",stopsGroups:"",isShow:0},tableList:[],loading:!1}},mounted:function(){this.setSize(),this.getTableData()},methods:{setSize:function(){var t=document.querySelector("header").offsetHeight,e=document.querySelector("body").offsetHeight,o=document.querySelector("footer").offsetHeight;this.style.height=e-t-o-32-45-59+"px"},selectChangeEvent:function(t){var e=t.checked,o=t.records,n=t.row,s={bundle:[],stopsGroups:[],isShow:1};e?(s.isShow=1,o.forEach((function(t){t.groupName||(s.bundle.push(t.bundel),s.stopsGroups.push(t.groups))})),this.stopsDisplayed(s)):n.groupName?(s.isShow=0,n.stopsComponentVoList.forEach((function(t){s.bundle.push(t.bundel),s.stopsGroups.push(t.groups)})),this.stopsDisplayed(s)):(s.isShow=0,s.bundle.push(n.bundel),s.stopsGroups.push(n.groups),this.stopsDisplayed(s))},selectAll:function(t){var e=t.checked,o=t.records,n={bundle:[],stopsGroups:[],isShow:1};if(e)n.isShow=1,o.forEach((function(t){t.groupName||(n.bundle.push(t.bundel),n.stopsGroups.push(t.groups))}));else{n.isShow=0;var s=this.$refs.xTree.getData();s.forEach((function(t){t.stopsComponentVoList.forEach((function(t){n.bundle.push(t.bundel),n.stopsGroups.push(t.groups)}))}))}this.stopsDisplayed(n)},stopsDisplayed:function(t){var e=this;this.loading=!0,this.$axios.post("/stopsManage/updatestopsComponentIsShow",this.$qs.stringify(t)).then((function(t){200===t.data.code&&(e.loading=!1,e.$Message.success("Save success"))})).catch((function(t){e.loading=!1,e.$event.emit("loading",!1),e.$Message.error({content:e.$t("tip.fault_content"),duration:3})}))},getTableData:function(){var t=this;this.$axios.post("/stopsManage/stopsComponentList").then((function(e){if(200===e.data.code){var o=e.data,n=[];o.stopGroupList.forEach((function(t){t.stopsComponentVoList.forEach((function(t){t.id=t.groups.replace(/\s*/g,"")+t.id,t.isShow&&n.push(t.id)}))})),t.tableData=o.stopGroupList,t.searchEvent(),t.checkRowKeys=n,t.total=e.data.count}else t.$Message.error({content:t.$t("tip.request_fail_content"),duration:3})})).catch((function(e){t.$Message.error({content:t.$t("tip.fault_content"),duration:3})}))},searchEvent:function(){var t=this,e=i.a.toValueString(this.param).trim().toLowerCase();if(e){var o=new RegExp(e,"gi"),n={children:"stopsComponentVoList"},s=["groupName","bundel","owner","description"],r=i.a.searchTree(this.tableData,(function(t){return s.some((function(o){return i.a.toValueString(t[o]).toLowerCase().indexOf(e)>-1}))}),n);i.a.eachTree(r,(function(t){s.forEach((function(e){t[e]=i.a.toValueString(t[e]).replace(o,(function(t){return'<span class="keyword-lighten">'.concat(t,"</span>")}))}))}),n),this.tableList=r,this.$nextTick((function(){var e=[];t.tableList.forEach((function(t){t.stopsComponentVoList.forEach((function(t){t.id=t.groups.replace(/\s*/g,"")+t.id,t.isShow&&e.push(t.id)}))})),t.checkRowKeys=e,t.$refs.xTree.setAllTreeExpand(!0)}))}else this.tableList=this.tableData},onPageChange:function(t){this.page=t},onPageSizeChange:function(t){this.limit=t}}},c=a,u=(o("b0b2"),o("2877")),p=Object(u["a"])(c,n,s,!1,null,"91dc04fa",null);e["default"]=p.exports},4160:function(t,e,o){"use strict";var n=o("23e7"),s=o("17c2");n({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},"44e7":function(t,e,o){var n=o("861d"),s=o("c6b6"),r=o("b622"),i=r("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==s(t))}},"45fc":function(t,e,o){"use strict";var n=o("23e7"),s=o("b727").some,r=o("a640"),i=o("ae40"),a=r("some"),c=i("some");n({target:"Array",proto:!0,forced:!a||!c},{some:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},"498a":function(t,e,o){"use strict";var n=o("23e7"),s=o("58a8").trim,r=o("c8d2");n({target:"String",proto:!0,forced:r("trim")},{trim:function(){return s(this)}})},"4d63":function(t,e,o){var n=o("83ab"),s=o("da84"),r=o("94ca"),i=o("7156"),a=o("9bf2").f,c=o("241c").f,u=o("44e7"),p=o("ad6d"),l=o("9f7f"),f=o("6eeb"),h=o("d039"),d=o("69f3").set,g=o("2626"),b=o("b622"),m=b("match"),v=s.RegExp,y=v.prototype,S=/a/g,x=/a/g,L=new v(S)!==S,E=l.UNSUPPORTED_Y,w=n&&r("RegExp",!L||E||h((function(){return x[m]=!1,v(S)!=S||v(x)==x||"/a/i"!=v(S,"i")})));if(w){var C=function(t,e){var o,n=this instanceof C,s=u(t),r=void 0===e;if(!n&&s&&t.constructor===C&&r)return t;L?s&&!r&&(t=t.source):t instanceof C&&(r&&(e=p.call(t)),t=t.source),E&&(o=!!e&&e.indexOf("y")>-1,o&&(e=e.replace(/y/g,"")));var a=i(L?new v(t,e):v(t,e),n?this:y,C);return E&&o&&d(a,{sticky:o}),a},k=function(t){t in C||a(C,t,{configurable:!0,get:function(){return v[t]},set:function(e){v[t]=e}})},T=c(v),R=0;while(T.length>R)k(T[R++]);y.constructor=C,C.prototype=y,f(s,"RegExp",C)}g("RegExp")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,o){var n=o("1d80"),s=o("5899"),r="["+s+"]",i=RegExp("^"+r+r+"*"),a=RegExp(r+r+"*$"),c=function(t){return function(e){var o=String(n(e));return 1&t&&(o=o.replace(i,"")),2&t&&(o=o.replace(a,"")),o}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,e,o){var n=o("861d"),s=o("d2bb");t.exports=function(t,e,o){var r,i;return s&&"function"==typeof(r=e.constructor)&&r!==o&&n(i=r.prototype)&&i!==o.prototype&&s(t,i),t}},a640:function(t,e,o){"use strict";var n=o("d039");t.exports=function(t,e){var o=[][t];return!!o&&n((function(){o.call(null,e||function(){throw 1},1)}))}},b0b2:function(t,e,o){"use strict";var n=o("b7be"),s=o.n(n);s.a},b7be:function(t,e,o){},c8d2:function(t,e,o){var n=o("d039"),s=o("5899"),r="​᠎";t.exports=function(t){return n((function(){return!!s[t]()||r[t]()!=r||s[t].name!==t}))}},c975:function(t,e,o){"use strict";var n=o("23e7"),s=o("4d64").indexOf,r=o("a640"),i=o("ae40"),a=[].indexOf,c=!!a&&1/[1].indexOf(1,-0)<0,u=r("indexOf"),p=i("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:c||!u||!p},{indexOf:function(t){return c?a.apply(this,arguments)||0:s(this,t,arguments.length>1?arguments[1]:void 0)}})},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);